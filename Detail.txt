HOTEL TOPICS

			+-----------------------------------------------+-----------------------------------------------+
			|		Subscribe Topic			|		Publish Topic			|
+-----------------------+-----------------------------------------------+-----------------------------------------------+
|	PIR		|	hotel/<room_num>/admin			|	hotel/<room_num>/pir/mainroom		|
|			|						|	hotel/<room_num>/pir/bathroom		|
+-----------------------+-----------------------------------------------+-----------------------------------------------+
|	RELAY		|	hotel/<room_num>/#			|	hotel/<room_num>/relay			|
+-----------------------+-----------------------------------------------+-----------------------------------------------+
|	IR		|	hotel/<room_num>/admin			|	hotel/<room_num>/ir			|
+-----------------------+-----------------------------------------------+-----------------------------------------------+
|	SCRIPT		|	hotel/+/relay				|	hotel/<room_num>/admin			|
+-----------------------+-----------------------------------------------+-----------------------------------------------+

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

*RELAY:
	+ MQTT data handling:
		
		Data from "hotel/<room_num>/admin":
		+---------------------------------------+-----------------------------------------------+
		|		Data			|		Action				|
		+---------------------------------------+-----------------------------------------------+
		|	"ADMIN_RESET"			|	human_count = 0				|
		+---------------------------------------+-----------------------------------------------+
		|	"HUMAN_COUNT"			|	publish "[count]<human_count>"		|
		+---------------------------------------+-----------------------------------------------+
		|	"RELAY_STAT":			|	publish "<relay_current_state>"		|
		+---------------------------------------+-----------------------------------------------+
		|	"RELAY_ENABLBE"/"RELAY_DISABLE"	|	admin_ctrl = true/false			|
		+---------------------------------------+-----------------------------------------------+
		|	"RELAY_CHECK"			|	publish "<room_num>_relay_ready"	|
		+---------------------------------------+-----------------------------------------------+

		Data from "hotel/<room_num>/ir":
		+---------------------------------------+-----------------------------------------------+
		|		Data			|		Action				|
		+---------------------------------------+-----------------------------------------------+
		|	"in"				|	human_count++				|
		+---------------------------------------+-----------------------------------------------+
		|	"out"				|	if (human_count > 0) { human_count-- }	|
		+---------------------------------------+-----------------------------------------------+

	+ Main processing:
		((human_count > 0) && (admin_ctrl)) ? relay_on : relay_off
		relay state change	->	publish "<relay_current_state>"

*IR:
	+ MQTT data handling:

		+---------------------------------------+-----------------------------------------------+
		|		Data			|		Action				|
		+---------------------------------------+-----------------------------------------------+
		|	"IR_CHECK"			|	publish "<room_num>_ir_ready"		|
		+---------------------------------------+-----------------------------------------------+

	+ Main processing:
		someone moves in/out 	-> publish "in"/"out"

*SCRIPT:
	+ MQTT data handling:

		Data from "hotel/<room_num>/relay":
		+---------------------------------------+-----------------------------------------------+
		|		Data			|		Action				|
		+---------------------------------------+-----------------------------------------------+
		|	"<relay_current_state>"		|	update 'state' value of <room_num>	|
		|					|	in database				|
		+---------------------------------------+-----------------------------------------------+

	+ Database processing:
		'isOpen' value of <room_num> change	->	pulish "RELAY_ENABLE"/"RELAY_DISABLE"
								to "hotel/<room_num>/relay"

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////